@import "tailwindcss";

:root {
  /* --- Continuum Default (Dark) --- */
  color-scheme: dark;
  --background: #020617; /* slate-950 */
  --foreground: #E5E7EB; /* gray-200 */

  --card: #0B1220; /* deep panel base */
  --card-foreground: #E5E7EB;

  --popover: #0B1220;
  --popover-foreground: #E5E7EB;

  --primary: #2563EB; /* brand blue (login button) */
  --primary-foreground: #0B1220;

  --secondary: #2E2257; /* deep indigo */
  --secondary-foreground: #E5E7EB;

  --muted: #0F172A; /* slate-900 */
  --muted-foreground: #94A3B8; /* slate-400 */

  --accent: #53A88A; /* muted teal */
  --accent-foreground: #E5E7EB;
  
  --destructive: #EF4444;
  --destructive-foreground: #0B1220;

  --border: rgba(255,255,255,0.10);
  --input: rgba(255,255,255,0.10);
  --ring: #8B5CF6; /* violet-500 */
  
  --radius: 0.5rem;
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* Glass surface tokens */
  --glass-bg: rgba(2, 6, 23, 0.60); /* slate-950 /60 */
  --glass-border: rgba(255, 255, 255, 0.10);
  --glass-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

  /* Legacy Galaxy background CSS variables for SSR-stable inline styles */
  --bg-galaxy-c1-light: rgba(255,122,203,0.25);
  --bg-galaxy-c2-light: rgba(255,255,255,0.22);
  --bg-galaxy-c3-light: rgba(255,210,238,0.14);
  --bg-galaxy-vignette-light: rgba(255,255,255,0.06);
  --bg-galaxy-c1-overlay-light: rgba(255,210,238,0.10);
}

/* Fluid typography baseline with sensible bounds
   Ensures the perceived UI scale stays consistent across screens */
html {
  font-size: clamp(15px, 1vw + 8px, 16px);
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* --- Dark Theme (Continuum) --- */
[data-theme="dark"] {
  color-scheme: dark;
  --background: #020617;
  --foreground: #E5E7EB;
  --card: #0B1220;
  --card-foreground: #E5E7EB;
  --popover: #0B1220;
  --popover-foreground: #E5E7EB;
  --primary: #2563EB;
  --primary-foreground: #0B1220;
  --secondary: #2E2257;
  --secondary-foreground: #E5E7EB;
  --muted: #0F172A;
  --muted-foreground: #94A3B8;
  --accent: #53A88A;
  --accent-foreground: #E5E7EB;
  --destructive: #EF4444;
  --destructive-foreground: #0B1220;
  --border: rgba(255,255,255,0.10);
  --input: rgba(255,255,255,0.10);
  --ring: #8B5CF6;
  --radius: 0.5rem;
  --glass-bg: rgba(2, 6, 23, 0.60);
  --glass-border: rgba(255, 255, 255, 0.10);
  --glass-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  --bg-galaxy-c1-dark: rgba(160,140,207,0.24);
  --bg-galaxy-c2-dark: rgba(93,42,142,0.18);
  --bg-galaxy-c3-dark: rgba(0,0,0,0.18);
  --bg-galaxy-vignette-dark: rgba(0,0,0,0.25);
  --bg-galaxy-c1-overlay-dark: rgba(160,140,207,0.06);
}

/* System preference fallback when no explicit data-theme is set */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    color-scheme: dark;
    --background: #020617;
    --foreground: #E5E7EB;
    --card: #0B1220;
    --card-foreground: #E5E7EB;
    --popover: #0B1220;
    --popover-foreground: #E5E7EB;
    --primary: #2563EB;
    --primary-foreground: #0B1220;
    --secondary: #2E2257;
    --secondary-foreground: #E5E7EB;
    --muted: #0F172A;
    --muted-foreground: #94A3B8;
    --accent: #53A88A;
    --accent-foreground: #E5E7EB;
    --destructive: #EF4444;
    --destructive-foreground: #0B1220;
    --border: rgba(255,255,255,0.10);
    --input: rgba(255,255,255,0.10);
    --ring: #8B5CF6;
    --radius: 0.5rem;
  }
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Accessible focus rings across interactive elements */
:where(a, button, [role="button"], [data-radix-collection-item]) {
  outline: none;
}
:where(a, button, [role="button"], [data-radix-collection-item]):focus-visible {
  box-shadow: 0 0 0 2px var(--ring);
  border-radius: 6px;
}

/* Slow, subtle 3-layer wave background */
:root {
  /* Optional: tune opacity/blur globally */
  --waves-opacity: 0.7;
  --waves-blur: 80px;
  --waves-overscan: 25%;

  /* Light theme wave colors (kept brand-consistent) */
  --wave-1-a: #EDE6FA; /* soft lavender */
  --wave-1-b: #DDE6FF; /* pale indigo */
  --wave-2-a: #F6E9FF; /* light lilac */
  --wave-2-b: #EDE6FA; /* soft lavender */
  --wave-3-a: #FFE3EC; /* blush */
  --wave-3-b: #F3E7FF; /* pastel purple */
}

[data-theme="dark"] {
  /* Dark theme wave colors (aligned to your palette) */
  --wave-1-a: #2E2257; /* uses --secondary family */
  --wave-1-b: #23376B; /* deep indigo */
  --wave-2-a: #462559; /* deep purple */
  --wave-2-b: #2E2257; /* deep indigo */
  --wave-3-a: #8A4374; /* muted magenta */
  --wave-3-b: #462559; /* deep purple */
}

/* Container sits behind all content */
.wave-background {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
}

/* Each wave overscans the viewport to hide edges while animating */
.wave-layer {
  position: absolute;
  top: calc(0px - var(--waves-overscan));
  right: calc(0px - var(--waves-overscan));
  bottom: calc(0px - var(--waves-overscan));
  left: calc(0px - var(--waves-overscan));
  opacity: var(--waves-opacity);
  filter: blur(var(--waves-blur));
  will-change: transform;
  transform: translateZ(0);
}

/* Gradients + very long, gentle motions */
.layer-1 {
  background: linear-gradient(135deg, var(--wave-1-a), var(--wave-1-b));
  animation: moveWave1 90s ease-in-out infinite alternate;
}

.layer-2 {
  background: linear-gradient(150deg, var(--wave-2-a), var(--wave-2-b));
  animation: moveWave2 120s ease-in-out infinite alternate-reverse;
}

.layer-3 {
  background: linear-gradient(165deg, var(--wave-3-a), var(--wave-3-b));
  animation: moveWave3 150s ease-in-out infinite;
}

/* Keyframes: slow drift with slight scale */
@keyframes moveWave1 {
  0% { transform: translate(-10%, -10%) scale(1.1); }
  100% { transform: translate(10%, 10%) scale(1.1); }
}
@keyframes moveWave2 {
  0% { transform: translate(-15%, 10%) scale(1.2); }
  100% { transform: translate(15%, -10%) scale(1.2); }
}
@keyframes moveWave3 {
  0% { transform: translate(10%, -15%) scale(1.3); }
  100% { transform: translate(-10%, 15%) scale(1.3); }
}

/* Motion and perf guardrails */
@media (prefers-reduced-motion: reduce) {
  .wave-layer {
    animation: none !important;
    filter: blur(calc(var(--waves-blur) * 0.5));
  }
}

@keyframes sidebar-gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.sidebar-gradient-bg {
  background: linear-gradient(
    270deg,
    rgba(139, 92, 246, 0.03),
    rgba(83, 168, 138, 0.03),
    rgba(139, 92, 246, 0.03)
  );
  background-size: 200% 200%;
  animation: sidebar-gradient 15s ease infinite;
}
